# Changelog

Все важные изменения в проекте будут документироваться в этом файле.

## [2.2.0] - 2024-12-19

### Добавлено
- **Новая команда `/read_d1`** для админов
  - Читает данные из ячейки D1 Google Sheets
  - Автоматически отправляет данные всем админам и одобренным пользователям
  - Показывает статистику отправки сообщений
  - Включает время чтения данных

<<<<<<< HEAD
=======
### Исправлено
- Исправлены синтаксические ошибки в коде
- Устранено дублирование кода в обработчиках
- Восстановлена правильная структура функций

>>>>>>> e3c811b (Исправлены ошибки в коде и добавлена команда /read_d1 для чтения данных из ячейки D1)
### Технические детали
- Добавлен обработчик `read_d1_cmd` в `bot.py`
- Интеграция с Google Sheets API для чтения ячейки D1
- Система массовой рассылки сообщений пользователям
- Обработка ошибок и логирование

## [2.1.0] - 2024-12-19

### Добавлено
- Новый столбец **User (H)** в Google Sheets для записи имени пользователя, который заполнил данные
- Автоматическое заполнение имени пользователя при отправке данных в Google Sheets

### Изменено
- Обновлена структура Google Sheets: добавлен столбец H для имени пользователя
- Модифицирована функция `add_to_google_sheet()` для записи данных в новый столбец
- Обновлены обработчики `process_confirm` и `process_object_manual` для передачи имени пользователя

### Технические детали
- В функции `add_to_google_sheet()` добавлен 8-й элемент в массив `row` для столбца H
- Имя пользователя извлекается из базы данных или используется `full_name` из Telegram
- Обновлена документация в README.md для отражения новой структуры

## [2.0.0] - 2024-12-19

### Добавлено
- Интеграция с новым Google Sheet структурой
- Система управления категориями и объектами через админ-панель
- Система запросов на новые категории с одобрением админа
- Система добавления новых объектов без одобрения
- Команда `/reboot` для сброса состояния бота
- Система контроля доступа пользователей (только одобренные админом)
- Уведомления для админов о новых операциях и запросах
- Система миграций базы данных
- Интеграция с PostgreSQL

### Изменено
- Полностью переработана структура Google Sheets
- Обновлены состояния FSM для упрощенного процесса
- Изменена логика работы с базой данных
- Обновлены команды и интерфейс бота

## [1.0.0] - 2024-12-19

### Добавлено
- Базовая функциональность Telegram бота
- Интеграция с Google Sheets
- Система регистрации пользователей
- Базовая система управления финансовыми операциями
